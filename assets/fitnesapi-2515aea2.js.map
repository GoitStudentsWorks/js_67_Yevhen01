{"version":3,"file":"fitnesapi-2515aea2.js","sources":["../../src/js/modal.js","../../src/js/qoute.js","../../src/js/navigation.js","../../src/js/helpers/string_utils.js","../../src/js/fitnesapi.js"],"sourcesContent":["const modalWindow = document.querySelector('.modal');\nconst modalContainer = document.querySelector('.modal-box');\nconst modalCloseBtn = document.querySelector('.modal-close');\nconst addToFavoritesBtn = modalWindow.querySelector('.js-btn-add');\nconst btnText = modalWindow.querySelector('.btn-text');\nlet favorites = JSON.parse(localStorage.getItem('favorites')) || [];\nlet favorite = {};\n\nfunction addListeners() {\n  document.addEventListener('click', closeOnOutsideClick);\n  document.addEventListener('keydown', closeOnEscape);\n  modalCloseBtn.addEventListener('click', closeModalContainer);\n}\n\nfunction closeOnOutsideClick(e) {\n  if (!modalContainer.contains(e.target)) closeModalContainer();\n}\n\nfunction closeOnEscape(e) {\n  if (e.key === 'Escape') {\n    closeModalContainer();\n  }\n}\nfunction closeModalContainer() {\n  modalWindow.classList.add('is-hidden');\n  removeListeners();\n}\n\nfunction removeListeners() {\n  modalCloseBtn.removeEventListener('click', closeModalContainer);\n  document.removeEventListener('click', closeOnOutsideClick);\n  document.removeEventListener('keydown', closeOnEscape);\n}\n\naddToFavoritesBtn.addEventListener('click', handleAddToFavorites);\n\nexport function openExerciseModal(exerciseDetails) {\n  modalWindow.classList.remove('is-hidden');\n  addListeners();\n  modalWindow.querySelector('.modal-title').innerHTML = exerciseDetails.name;\n\n  modalWindow.querySelector(\n    '.modal-gif'\n  ).style.backgroundImage = `linear-gradient(rgba(27, 27, 27, 0.2), rgba(27, 27, 27, 0.2)), url(${exerciseDetails.gifUrl})`;\n\n  const modalRating = modalWindow.querySelector('.average-rating');\n  const ratingValue = +exerciseDetails.rating;\n\n  if (Number.isInteger(ratingValue)) {\n    modalRating.textContent = ratingValue.toFixed(1);\n  } else {\n    modalRating.textContent = ratingValue;\n  }\n\n  modalWindow.querySelector('.modal-target').textContent =\n    exerciseDetails.target;\n\n  modalWindow.querySelector('.modal-dody-part').textContent =\n    exerciseDetails.bodyPart;\n\n  modalWindow.querySelector('.modal-equipment').textContent =\n    exerciseDetails.equipment;\n\n  modalWindow.querySelector('.modal-popular').textContent =\n    exerciseDetails.popularity;\n\n  modalWindow.querySelector('.modal-calories').textContent =\n    exerciseDetails.burnedCalories;\n\n  modalWindow.querySelector('.modal-description').textContent =\n    exerciseDetails.description;\n\n  const stars = modalWindow.querySelectorAll('.star-icon');\n\n  for (let i = 0; i < stars.length; i++) {\n    const ratingValue = Math.round(exerciseDetails.rating);\n    const starSvg = stars[i].querySelector('.star-icon use');\n    if (i < ratingValue) {\n      starSvg.setAttribute('href', '../img/icons.svg#icon-star-full');\n    }\n  }\n\n  favorite = { ...exerciseDetails };\n\n  const isFavorite = isExerciseInFavorites(exerciseDetails._id);\n  btnText.textContent = isFavorite ? 'Remove from' : 'Add to Favorites';\n}\n\nfunction handleAddToFavorites() {\n  const isFavorite = isExerciseInFavorites(favorite._id);\n\n  if (isFavorite) {\n    removeFromFavorites(favorite._id);\n    btnText.textContent = 'Add to Favorites';\n  } else {\n    addToFavorites(favorite);\n    btnText.textContent = 'Remove from';\n  }\n}\n\nfunction addToFavorites(exerciseDetails) {\n  const updatedFavorites = [...favorites, exerciseDetails];\n  favorites = updatedFavorites;\n  localStorage.setItem('favorites', JSON.stringify(updatedFavorites));\n}\n\nexport function removeFromFavorites(exerciseId) {\n  const updatedFavorites = favorites.filter(\n    exercise => exercise._id !== exerciseId\n  );\n  favorites = updatedFavorites;\n  localStorage.setItem('favorites', JSON.stringify(updatedFavorites));\n}\n\nfunction isExerciseInFavorites(exerciseId) {\n  return (\n    favorites.length > 0 &&\n    favorites.map(exercise => exercise._id).includes(exerciseId)\n  );\n}\n","import axios from 'axios';\nimport izitoast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst quoteElement = document.querySelector('[data-name=\"quote\"]');\nconst authorElement = document.querySelector('[data-name=\"author\"]');\n\nconst checkDates = (d1, d2) => {\n  return (\n    d1.getFullYear() === d2.getFullYear() &&\n    d1.getMonth() === d2.getMonth() &&\n    d1.getDate() === d2.getDate()\n  );\n};\n\nconst shouldFetchQuote = () => {\n  const storageDateString = window.localStorage.getItem('quote_date');\n  const storageQuoteString = window.localStorage.getItem('quote_data');\n  if (!storageDateString || !storageQuoteString) {\n    return true;\n  }\n  const storageDate = new Date(Number(storageDateString));\n  const nowDate = new Date();\n  const isDatesTheSameDay = checkDates(storageDate, nowDate);\n  return !isDatesTheSameDay;\n};\n\nconst getLocalQuote = () => {\n  const storageQuote = window.localStorage.getItem('quote_data');\n  return JSON.parse(storageQuote);\n};\n\nconst setLocalQuote = quote => {\n  if (!quote) {\n    return;\n  }\n  window.localStorage.setItem('quote_date', new Date().getTime());\n  window.localStorage.setItem('quote_data', JSON.stringify(quote));\n};\n\nconst fetchQuote = async () => {\n  const { data } = await axios.get('https://energyflow.b.goit.study/api/quote');\n  return data;\n};\n\nconst checkQuote = async () => {\n  try {\n    const shouldFetch = shouldFetchQuote();\n    let quoteData;\n    if (shouldFetch) {\n      quoteData = await fetchQuote();\n      setLocalQuote(quoteData);\n    } else {\n      quoteData = getLocalQuote();\n    }\n\n    quoteElement.textContent = quoteData.quote;\n    authorElement.textContent = quoteData.author;\n  } catch (error) {\n    izitoast.error({\n      title: 'Something went wrong while getting quote of the day',\n      position: 'topRight',\n      backgroundColor: '#f53d3d',\n      titleColor: 'white',\n      progressBar: false,\n      icon: '',\n    });\n    window.localStorage.removeItem('quote_date');\n    window.localStorage.removeItem('quote_data');\n  }\n};\n\ncheckQuote();\n","// ==================================================\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  const path = window.location.pathname;\n  const page = path === '/' ? 'index.html' : path.split('/').pop();\n  const links = document.querySelectorAll('.page-nav-list a');\n\n  links.forEach(link => {\n    const href = link.getAttribute('href');\n    if (href.includes(page)) {\n      link.classList.add('current');\n    }\n  });\n});\n","export function capitalizeFirstLetter(text) {\n  return text.charAt(0).toUpperCase() + text.slice(1);\n}\n","import axios from 'axios';\n\nconst BASE_URL = 'https://energyflow.b.goit.study/api';\nconst windowWidth = 768;\nlet limit = 8;\n\nexport async function getFilter(filter, currentPage) {\n  const url = `${BASE_URL}/filters`;\n\n  if (window.screen.width > windowWidth) {\n    limit = 12;\n  }\n\n  const response = await axios.get(url, {\n    params: { filter, page: currentPage, limit },\n  });\n\n  const fetchedPage = response.data.page;\n  const fetchedTotalPages = response.data.totalPages;\n\n  return { data: response.data, fetchedPage, fetchedTotalPages };\n}\n\nexport async function getExercises(page, filter, value, keyword) {\n  const url = `${BASE_URL}/exercises`;\n  let params = { [filter]: value, page, limit };\n\n  if (window.screen.width > windowWidth) {\n    limit = 9;\n  }\n\n  if (keyword !== undefined) {\n    params.keyword = keyword;\n  }\n\n  const response = await axios.get(url, { params });\n\n  return response.data;\n}\n\nexport async function getExercisesById(id) {\n  const url = `${BASE_URL}/exercises/${id}`;\n\n  const response = await axios.get(url);\n\n  return response.data;\n}\n"],"names":["modalWindow","modalContainer","modalCloseBtn","addToFavoritesBtn","btnText","favorites","favorite","addListeners","closeOnOutsideClick","closeOnEscape","closeModalContainer","e","removeListeners","handleAddToFavorites","openExerciseModal","exerciseDetails","modalRating","ratingValue","stars","i","starSvg","isFavorite","isExerciseInFavorites","removeFromFavorites","addToFavorites","updatedFavorites","exerciseId","exercise","quoteElement","authorElement","checkDates","d1","d2","shouldFetchQuote","storageDateString","storageQuoteString","storageDate","nowDate","getLocalQuote","storageQuote","setLocalQuote","quote","fetchQuote","data","axios","checkQuote","shouldFetch","quoteData","izitoast","path","page","link","capitalizeFirstLetter","text","BASE_URL","windowWidth","limit","getFilter","filter","currentPage","url","response","fetchedPage","fetchedTotalPages","getExercises","value","keyword","params","getExercisesById","id"],"mappings":"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"}