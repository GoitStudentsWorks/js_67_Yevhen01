{"version":3,"file":"commonHelpers.js","sources":["../src/js/favorites-main.js"],"sourcesContent":["import { capitalizeFirstLetter } from './helpers/string_utils';\nimport { getExercisesById } from './fitnesapi';\nimport { openExerciseModal, removeFromFavorites } from './modal';\nimport icons from '../img/icons.svg';\nconst favoritesList = document.querySelector('[data-name=\"favorites-list\"]');\nconst favoritesEmpty = document.querySelector('[data-name=\"favorites-empty\"]');\nconst modalWindow = document.querySelector('.modal');\nconst addToFavoritesBtn = modalWindow.querySelector('.js-btn-add');\nconst onClickDeleteItem = exerciseId => {\n  try {\n    removeFromFavorites(exerciseId);\n    checkFavorites();\n  } catch (error) {\n    console.error(error);\n  }\n};\ndocument.addEventListener('click', function (event) {\n  const target = event.target;\n  if (target && target.classList.contains('trash-icon')) {\n    const exerciseId = target.closest('.exe-info-list-item').dataset.id;\n    onClickDeleteItem(exerciseId);\n  }\n});\naddToFavoritesBtn.addEventListener('click', () => {\n  checkFavorites();\n});\nconst handleTrashLinkClick = link => {\n  const exerciseId = link.closest('.exe-info-list-item').dataset.id;\n  selectedExerciseId = exerciseId;\n  onClickDeleteItem(exerciseId);\n};\nfavoritesList.querySelectorAll('.trash-link').forEach(link => {\n  link.addEventListener('click', () => handleTrashLinkClick(link));\n});\nconst onExercisesClick = event => {\n  event.preventDefault();\n  const isArrowIcon = event.target.closest('.icon-arrow-container');\n  if (isArrowIcon) {\n    const exerciseItem = event.target.closest('[data-id]');\n    if (exerciseItem) {\n      const exerciseId = exerciseItem.dataset.id;\n      onArrowClick(exerciseId);\n    }\n  }\n};\nconst onArrowClick = async exerciseId => {\n  try {\n    const exerciseDetails = await getExercisesById(exerciseId);\n    openExerciseModal(exerciseDetails);\n  } catch (error) {\n    console.log(error);\n  }\n};\nconst checkFavorites = () => {\n  try {\n    const favoritesExercises = JSON.parse(\n      window.localStorage.getItem('favorites')\n    );\n    if (favoritesExercises.length === 0) {\n      favoritesList.classList.add('favorites-visually-hidden');\n      favoritesEmpty.classList.remove('favorites-visually-hidden');\n      return;\n    } else if (favoritesExercises.length > 0) {\n      const markup = favoritesExercises\n        .map(\n          item => `\n   <li class=\"exe-info-list-item\" data-id=\"${item._id}\">\n        <div class=\"item-top-container\">\n          <div class=\"icon-star-container\">\n          <p class=\"workout\">workout</p>\n            <a href=\"#\" class=\"trash-link\">\n                <svg class=\"icon-trash-svg\" width=\"16\" height=\"36\">\n                  <use href=\"${icons}#icon-trash\" class=\"trash-icon\"></use>\n                </svg>\n              </a>\n          </div>\n            <a href=\"#\" class=\"icon-arrow-container >\n            <p class=\"exe-top-text\">Start</p>\n              <svg class=\"icon-arrow-svg\" width=\"13\" height=\"13\">\n                <use href=\"${icons}#icon-right-sm-arrow\"></use>\n              </svg>\n            </a>\n        </div>\n        <div class=\"item-middle-container\">\n          <svg class=\"icon-run-svg\" width=\"32\" height=\"32\">\n            <use href=\"${icons}#icon-run\"></use>\n          </svg>\n          <h3 class=\"exe-card-title\">${capitalizeFirstLetter(item.name)}</h3>\n        </div>\n        <div class=\"item-bottom-container\">\n          <div class=\"bottom-one-info-container\">\n            <p class=\"bottom-info-text\">\n              <span class=\"bottom-span-text\">Burned calories:</span> ${\n                item.burnedCalories\n              } / ${item.time} min\n            </p>\n            <p class=\"bottom-info-text\">\n              <span class=\"bottom-span-text\">Body part:</span> ${capitalizeFirstLetter(\n                item.bodyPart\n              )}\n            </p>\n          </div>\n          <div class=\"bottom-two-info-container\">\n            <p class=\"bottom-info-text\">\n              <span class=\"bottom-span-text\">Target:</span> ${capitalizeFirstLetter(\n                item.target\n              )}\n            </p>\n          </div>\n        </div>\n    </li>`\n        )\n        .join('');\n      favoritesEmpty.classList.add('favorites-visually-hidden');\n      favoritesList.innerHTML = markup;\n      favoritesList.classList.remove('favorites-visually-hidden');\n      favoritesList.addEventListener('click', onExercisesClick);\n    }\n  } catch (error) {\n    favoritesEmpty.classList.remove('favorites-visually-hidden');\n    favoritesList.innerHTML = '';\n    favoritesList.classList.add('favorites-visually-hidden');\n  }\n};\ncheckFavorites();\n"],"names":["favoritesList","favoritesEmpty","modalWindow","addToFavoritesBtn","onClickDeleteItem","exerciseId","removeFromFavorites","checkFavorites","error","event","target","handleTrashLinkClick","link","onExercisesClick","exerciseItem","onArrowClick","exerciseDetails","getExercisesById","openExerciseModal","favoritesExercises","markup","item","icons","capitalizeFirstLetter"],"mappings":"8GAIA,MAAMA,EAAgB,SAAS,cAAc,8BAA8B,EACrEC,EAAiB,SAAS,cAAc,+BAA+B,EACvEC,EAAc,SAAS,cAAc,QAAQ,EAC7CC,EAAoBD,EAAY,cAAc,aAAa,EAC3DE,EAAoBC,GAAc,CACtC,GAAI,CACFC,EAAoBD,CAAU,EAC9BE,GACD,OAAQC,EAAP,CACA,QAAQ,MAAMA,CAAK,CACpB,CACH,EACA,SAAS,iBAAiB,QAAS,SAAUC,EAAO,CAClD,MAAMC,EAASD,EAAM,OACrB,GAAIC,GAAUA,EAAO,UAAU,SAAS,YAAY,EAAG,CACrD,MAAML,EAAaK,EAAO,QAAQ,qBAAqB,EAAE,QAAQ,GACjEN,EAAkBC,CAAU,CAC7B,CACH,CAAC,EACDF,EAAkB,iBAAiB,QAAS,IAAM,CAChDI,GACF,CAAC,EACD,MAAMI,EAAuBC,GAAQ,CACnC,MAAMP,EAAaO,EAAK,QAAQ,qBAAqB,EAAE,QAAQ,GAC/D,mBAAqBP,EACrBD,EAAkBC,CAAU,CAC9B,EACAL,EAAc,iBAAiB,aAAa,EAAE,QAAQY,GAAQ,CAC5DA,EAAK,iBAAiB,QAAS,IAAMD,EAAqBC,CAAI,CAAC,CACjE,CAAC,EACD,MAAMC,EAAmBJ,GAAS,CAGhC,GAFAA,EAAM,eAAc,EACAA,EAAM,OAAO,QAAQ,uBAAuB,EAC/C,CACf,MAAMK,EAAeL,EAAM,OAAO,QAAQ,WAAW,EACrD,GAAIK,EAAc,CAChB,MAAMT,EAAaS,EAAa,QAAQ,GACxCC,EAAaV,CAAU,CACxB,CACF,CACH,EACMU,EAAe,MAAMV,GAAc,CACvC,GAAI,CACF,MAAMW,EAAkB,MAAMC,EAAiBZ,CAAU,EACzDa,EAAkBF,CAAe,CAClC,OAAQR,EAAP,CACA,QAAQ,IAAIA,CAAK,CAClB,CACH,EACMD,EAAiB,IAAM,CAC3B,GAAI,CACF,MAAMY,EAAqB,KAAK,MAC9B,OAAO,aAAa,QAAQ,WAAW,CAC7C,EACI,GAAIA,EAAmB,SAAW,EAAG,CACnCnB,EAAc,UAAU,IAAI,2BAA2B,EACvDC,EAAe,UAAU,OAAO,2BAA2B,EAC3D,MACN,SAAekB,EAAmB,OAAS,EAAG,CACxC,MAAMC,EAASD,EACZ,IACCE,GAAQ;AAAA,6CAC2BA,EAAK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+BAMnBC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BAOFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBAMJA;AAAA;AAAA,uCAEcC,EAAsBF,EAAK,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA,uEAMtDA,EAAK,oBACDA,EAAK;AAAA;AAAA;AAAA,iEAGwCE,EACjDF,EAAK,QACrB;AAAA;AAAA;AAAA;AAAA;AAAA,8DAK8DE,EAC9CF,EAAK,MACrB;AAAA;AAAA;AAAA;AAAA,UAKS,EACA,KAAK,EAAE,EACVpB,EAAe,UAAU,IAAI,2BAA2B,EACxDD,EAAc,UAAYoB,EAC1BpB,EAAc,UAAU,OAAO,2BAA2B,EAC1DA,EAAc,iBAAiB,QAASa,CAAgB,CACzD,CACF,MAAC,CACAZ,EAAe,UAAU,OAAO,2BAA2B,EAC3DD,EAAc,UAAY,GAC1BA,EAAc,UAAU,IAAI,2BAA2B,CACxD,CACH,EACAO,EAAgB"}